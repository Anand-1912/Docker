Here's a refined version of your markdown content:

## Working with Containers and Data

1. **Container Internal File System**

   - Containers have their own internal file systems.

2. **Types of Data in Containers**

   - **Application Code + Environment Data (Readonly)**
     - Examples: Source code, Node runtime
   - **Temporary Data**
     - Examples: Stack data
   - **Persistent Data**
     - Examples: Logs

3. **Data Persistence Note**

   - When containers are stopped, the host retains the container data, so it can be accessed when the container is restarted (using the `docker start` command). However, when the container is removed, all data generated by the container is also removed.

4. **Using Named Volumes to Resolve Data Persistence Issues**

   - **Types of Volumes:**

     1. Anonymous Volumes (removed when the container is removed)
     2. Named Volumes (retained)

   - Volumes are folders on the host machine (hard drive) that are mounted into containers. Named Volumes are not removed with the container because they exist on the host system, not within the container.

   - Containers can read from and write to these Volumes.

   - **Anonymous Volume Instruction:**

     ```dockerfile
     VOLUME [<PATH_INSIDE_CONTAINER_WHICH_CONTAINS_THE_DATA_TO_BE_PERSISTED>]
     ```

     - Example: `VOLUME ["/app/feedback"]`
     - **Note:** The local host folder is managed by Docker, not manually specified.

   - **Named Volumes Creation Example:**

     ```sh
     docker run -p 3000:80 --rm --name feedback-app -v feedback:/app/feedback feedback-image:volumes
     ```

     - `-v <VOLUME_NAME>:<PATH_INSIDE_THE_CONTAINER>`
     - Example: `-v feedback:/app/feedback`

   - **Managing Volumes:**

     ```sh
     docker volume ls
     ```

     - Lists all Anonymous and Named Volumes.
     - Anonymous volumes are removed with the container, while Named Volumes are not.

   - **Inspecting Containers:**
     ```sh
     docker container inspect <CONTAINER_NAME>
     ```

**Note:** In both Anonymous and Named Volumes, Docker manages the Volumes and we don't have control over the local host path where Docker persists the data. To manage these folders, use Bind Mounts.

---

## Bind Mounts

**Note:** Used in development, not in production.

### Code Sharing Example:

```sh
docker run -d -p 3000:80 --name feedback-app \
-v feedback:/app/feedback \
-v "C:\Users\Admin\Desktop\Certificates\Docker\07.Data_And_Volumes_Feedback_App:/app" \
-v /app/node_modules \
feedback-node:latest
```

- `-v feedback:/app/feedback` => Named Volume
- `-v "C:\Users\Admin\Desktop\Certificates\Docker\07.Data_And_Volumes_Feedback_App:/app"` => Bind Mount
- `-v /app/node_modules` => Anonymous Volume

### Read-Only Volumes Example:

```sh
docker run -d -p 3000:80 --name feedback-app \
-v feedback:/app/feedback \
-v /app/temp \
-v "C:\Users\Admin\Desktop\Certificates\Docker\07.Data_And_Volumes_Feedback_App:/app:ro" \
-v /app/node_modules \
feedback-node:latest
```

### Notes:

1. Named Volumes and Anonymous Volumes are managed by Docker. We don't control the local host path where Docker stores these Volumes.
2. Named Volumes persist after the container is removed. While containers can manipulate the data inside Named Volumes, users cannot directly access it through the file system.
3. If you want certain data to be accessed only by the application (container) and not through the local file system, use Named Volumes.
4. Without Named Volumes for the feedback path, Bind Mounts enable the container to write feedback files directly to the local system, which can be managed through the file system.
5. Anonymous Volumes retain the `node_modules` folder until the container is stopped, preventing overwriting by the `COPY . .` instruction in the Dockerfile.

---

## Managing Docker Volumes

- `docker volume --help`
- `docker volume create test-volume`
- `docker volume rm test-volume`
- `docker volume prune`
- `docker volume ls`

---

## Docker Ignore File

The `.dockerignore` file contains the list of files and folders that Docker should ignore when copying files from the local host to the container during `COPY . .`.

### References

1. [Docker Volumes - Spacelift Blog](https://spacelift.io/blog/docker-volumes)

This refined markdown should be more readable and organized, making it easier to understand the concepts and instructions related to working with Docker containers and volumes.
